<form [formGroup]="form" (ngSubmit)="saveForm()">
  <mat-list formGroupName="users">
    <mat-list-item *ngFor="let user of form.value.users | keyvalue">
      <div matLine class="userId-text">{{ user.key }}</div>
      <div matLine *ngIf="user.key === userId">You</div>
      <!-- <mat-form-field>
              <mat-label> {{ user.key }} </mat-label>
              <input matInput [formControlName]="user.key" />
            </mat-form-field> -->
      <mat-icon (click)="removeUserIdFromForm(user.key)">delete</mat-icon>
    </mat-list-item>

    <mat-list-item>
      <mat-form-field>
        <mat-label>User ID</mat-label>
        <input matInput [formControl]="newUserIdControl" />
        <mat-icon matSuffix type="button" (click)="addUserIdToForm()">
          add
        </mat-icon>
        <mat-hint align="end">
          Press the + button after entering the User ID</mat-hint
        >
      </mat-form-field>
    </mat-list-item>
  </mat-list>

  <mat-error *ngIf="form.hasError('minFormControlsInFormRecord', 'users')"
    >There must be at least one user</mat-error
  >
  <div class="button-container">
    <button
      mat-raised-button
      color="primary"
      type="submit"
      [disabled]="disableSubmitButton"
    >
      Save
    </button>
    <button mat-button type="button" (click)="closeBottomSheet()">Close</button>
  </div>
</form>
